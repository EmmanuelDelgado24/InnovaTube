<div
  class="flex items-center justify-center min-h-screen p-4 bg-gray-100 dark:bg-gray-900"
>
  <form
    [formGroup]="registerForm"
    (ngSubmit)="onSubmit()"
    class="w-full max-w-md px-8 pt-6 pb-8 mb-4 bg-white rounded-lg shadow-xl dark:bg-gray-800"
  >
    <h2
      class="mb-8 text-3xl font-bold text-center text-gray-800 dark:text-white"
    >
      Regístrate
    </h2>

    <div
      *ngIf="hashError()"
      class="relative px-4 py-3 mb-4 text-red-700 bg-red-100 border border-red-400 rounded"
      role="alert"
    >
      <strong class="font-bold">¡Error!</strong>
      <span class="block sm:inline">
        Usuario ya existe!.
      </span>
    </div>

    <div class="mb-6">
      <label
        for="floating_nameCompleto"
        class="block mb-2 text-sm font-semibold text-gray-700 dark:text-gray-300"
        >Nombre Completo</label
      >
      <input
        type="text"
        formControlName="nameCompleto"
        id="floating_nameCompleto"
        class="w-full px-4 py-3 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white dark:border-gray-600"
        placeholder="Tu nombre completo"
        required
      />
      <p
        *ngIf="
          registerForm.get('nameCompleto')?.invalid &&
          registerForm.get('nameCompleto')?.touched
        "
        class="mt-2 text-xs italic text-red-500"
      >
        El nombre completo es requerido.
      </p>
    </div>

    <div class="mb-6">
      <label
        for="floating_nameUser"
        class="block mb-2 text-sm font-semibold text-gray-700 dark:text-gray-300"
        >Nombre de Usuario</label
      >
      <input
        type="text"
        formControlName="nameUser"
        id="floating_nameUser"
        class="w-full px-4 py-3 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white dark:border-gray-600"
        placeholder="Crea un nombre de usuario"
        required
      />
      <p
        *ngIf="
          registerForm.get('nameUser')?.invalid &&
          registerForm.get('nameUser')?.touched
        "
        class="mt-2 text-xs italic text-red-500"
      >
        El nombre de usuario es requerido.
      </p>
    </div>

    <div class="mb-6">
      <label
        for="floating_email"
        class="block mb-2 text-sm font-semibold text-gray-700 dark:text-gray-300"
        >Correo electrónico</label
      >
      <input
        type="email"
        formControlName="email"
        id="floating_email"
        class="w-full px-4 py-3 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white dark:border-gray-600"
        placeholder="tu@ejemplo.com"
        required
      />
      <p
        *ngIf="
          registerForm.get('email')?.invalid &&
          registerForm.get('email')?.touched
        "
        class="mt-2 text-xs italic text-red-500"
      >
        <span *ngIf="registerForm.get('email')?.errors?.['required']"
          >El correo electrónico es requerido.</span
        >
        <span *ngIf="registerForm.get('email')?.errors?.['email']"
          >Debe ser un correo electrónico válido.</span
        >
      </p>
    </div>

    <div class="mb-6">
      <label
        for="floating_password"
        class="block mb-2 text-sm font-semibold text-gray-700 dark:text-gray-300"
        >Contraseña</label
      >
      <input
        type="password"
        formControlName="password"
        id="floating_password"
        class="w-full px-4 py-3 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white dark:border-gray-600"
        placeholder="Crea una contraseña segura"
        required
      />
      <p
        *ngIf="
          registerForm.get('password')?.invalid &&
          registerForm.get('password')?.touched
        "
        class="mt-2 text-xs italic text-red-500"
      >
        <span *ngIf="registerForm.get('password')?.errors?.['required']"
          >La contraseña es requerida.</span
        >
        <span *ngIf="registerForm.get('password')?.errors?.['minlength']"
          >La contraseña debe tener al menos 6 caracteres.</span
        >
      </p>
    </div>

    <div class="flex items-center justify-between mb-4">
      <button
        type="submit"
        [disabled]="isPosting()"
        class="w-full px-6 py-3 font-bold text-white transition duration-300 ease-in-out bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:shadow-outline"
        [ngClass]="{ 'opacity-50 cursor-not-allowed': isPosting() }"
      >
        <span *ngIf="!isPosting()">Registrarse</span>
        <span *ngIf="isPosting()">Cargando...</span>
      </button>
    </div>

    <div
      class="text-sm font-medium text-center text-gray-900 dark:text-gray-300"
    >
      ¿Ya tienes una cuenta?
      <a
        routerLink="/login"
        class="font-bold text-blue-600 transition duration-300 ease-in-out hover:text-blue-800 dark:text-blue-500 dark:hover:text-blue-700"
        >Inicia sesión aquí.</a
      >
    </div>
  </form>
</div>
